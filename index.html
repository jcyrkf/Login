<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تسجيل الدخول</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="login-container">
        <h2>تسجيل الدخول</h2>
        <form id="loginForm" onsubmit="loginUser(event)">
            <label for="email">البريد الإلكتروني</label>
            <input type="email" id="email" name="email" placeholder="أدخل بريدك الإلكتروني" required>
            
            <label for="password">كلمة المرور</label>
            <input type="password" id="password" name="password" placeholder="أدخل كلمة المرور" required>

            <button type="submit" class="btn">تسجيل الدخول</button>
        </form>
        <p>ليس لديك حساب؟ <a href="signup.html">إنشاء حساب</a></p>
    </div>

    <!-- Firebase مكتبات -->
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-auth-compat.js"></script>

    <script>
        // إعداد Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyAgJdpJMbccfc1jtvReuhc-IeIQhHox1sI",
            authDomain: "user-login-system-af907.firebaseapp.com",
            databaseURL: "https://user-login-system-af907-default-rtdb.firebaseio.com/",
            projectId: "user-login-system-af907",
            storageBucket: "user-login-system-af907.appspot.com",
            messagingSenderId: "749941405536",
            appId: "1:749941405536:web:xxxxxx" // هذا اختياري، مش ضروري حاليًا
        };
        
        // تهيئة Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();

        // تسجيل الدخول
        async function loginUser(event) {
            event.preventDefault();
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;

            try {
                // تحقق من صحة بيانات تسجيل الدخول
                await auth.signInWithEmailAndPassword(email, password);
                alert('تم تسجيل الدخول بنجاح 🎉');
                window.location.href = "https://creativeminds2.odoo.com/home"; // تحويل المستخدم إلى صفحة Odoo
            } catch (error) {
                console.error(error);
                alert('فشل تسجيل الدخول ❌: الإيميل أو كلمة المرور غير صحيحة');
            }
        }
    </script>
</body>
</html>
